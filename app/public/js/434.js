"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[434,809,561],{53496:(n,e,t)=>{t.d(e,{I:()=>l,F:()=>i});var r=t(37461),a=t(17563),l=function(n){var e="/common/diem-ren-luyen/api/thong-ke?".concat(a.stringify(n,{skipNull:!0,skipEmptyString:!0}));return r.o.get(e)},i=function(n){var e="/common/roles-user?".concat(a.stringify(n,{skipNull:!0,skipEmptyString:!0}));return r.o.get(e)}},73887:(n,e,t)=>{t.d(e,{E:()=>l,w:()=>i});var r=t(37461),a=t(17563),l=function(n){var e="/admin/DM_LopHoc/api?".concat(a.stringify(n,{skipNull:!0,skipEmptyString:!0}));return r.o.get(e)},i=function(n){var e="/admin/DM_LopHoc/api/sync-data?".concat(a.stringify(n,{skipNull:!0,skipEmptyString:!0}));return r.o.get(e)}},50584:(n,e,t)=>{t.d(e,{O:()=>l,w:()=>i});var r=t(37461),a=t(17563),l=function(n){var e="/admin/DM_SinhVien/api/data?".concat(a.stringify(n,{skipNull:!0,skipEmptyString:!0}));return r.o.get(e)},i=function(n){var e="/admin/DM_SinhVien/api/sync-data?".concat(a.stringify(n,{skipNull:!0,skipEmptyString:!0}));return r.o.get(e)}},54252:(n,e,t)=>{t.d(e,{Z:()=>u});t(67294);var r=t(93379),a=t.n(r),l=t(77684),i={insert:"head",singleton:!1};a()(l.Z,i);l.Z.locals;var o=t(85893);const u=function(n){var e=n.children,t=n.className;return(0,o.jsx)("div",{className:"dimark-wrapper ".concat(t||""),children:e})}},37461:(n,e,t)=>{t.d(e,{o:()=>l});var r=t(9669),a=t.n(r),l=(document.head.querySelector('meta[name="csrf-token"]'),a().create({baseURL:"/",responseType:"json"}))},60809:(n,e,t)=>{t.r(e),t.d(e,{default:()=>g});var r=t(57016),a=t(71577),l=t(71230),i=t(15746),o=t(9676),u=t(64561),c=t(25779),d=t(50963),s=t(67294),p=t(53496),f=t(85893);function h(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==t)return;var r,a,l=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(l.push(r.value),!e||l.length!==e);i=!0);}catch(n){o=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(o)throw a}}return l}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return m(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var v=(0,s.forwardRef)((function(n,e){!function(n){if(null==n)throw new TypeError("Cannot destructure undefined")}(n);var t=h((0,s.useState)(!1),2),m=t[0],v=t[1],g=h((0,s.useState)(null),2),y=(g[0],g[1]),x=h((0,s.useState)(!1),2),b=(x[0],x[1],h((0,d.cI)(),1)[0]),k=h((0,s.useState)([]),2),j=k[0],S=k[1],Z=(0,s.useCallback)((function(){p.F().then((function(n){console.log(n),S(null==n?void 0:n.data)}))}),[]);(0,s.useEffect)((function(){Z()}),[]);var w=(0,s.useCallback)((function(n){v(!0);var e=((null==n?void 0:n.roles)||[]).map((function(n){return n.name}));console.log(e),b.setFieldsValue({roles:e,name:null==n?void 0:n.HoDem}),y(n)}),[]),C=(0,s.useCallback)((function(){v(!1),y(null),b.resetFields()}),[]);(0,s.useImperativeHandle)(e,(function(){return{showModal:w}}));var N=(0,s.useCallback)((function(n){console.log(n)}),[]);return(0,f.jsx)(r.Z,{visible:m,onOk:C,onCancel:C,title:"Chức vụ",children:(0,f.jsxs)(u.Z,{form:b,onFinish:N,children:[(0,f.jsx)(u.Z.Item,{name:"name",children:(0,f.jsx)(c.Z,{})}),(0,f.jsx)(u.Z.Item,{name:"roles",valuePropName:"checked",children:(0,f.jsx)(o.Z.Group,{style:{width:"100%"},children:(0,f.jsx)(l.Z,{children:null==j?void 0:j.map((function(n){return(0,f.jsx)(i.Z,{span:8,children:(0,f.jsx)(o.Z,{value:null==n?void 0:n.name,children:n.show_name})},n.name)}))})})}),(0,f.jsx)(a.Z,{htmlType:"submit",children:"Submit"})]})})}));const g=(0,s.memo)(v)},434:(n,e,t)=>{t.r(e),t.d(e,{default:()=>N});var r=t(36238),a=t(71230),l=t(25779),i=t(15746),o=t(19650),u=t(71577),c=t(60331),d=t(69713),s=t(38648),p=t(43259),f=t(67294),h=t(80807),m=(t(14734),t(54252)),v=t(60809),g=t(36659),y=t(50584),x=t(73887),b=t(37461),k=t(17563),j=t(85893);function S(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==t)return;var r,a,l=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(l.push(r.value),!e||l.length!==e);i=!0);}catch(n){o=!0,a=n}finally{try{i||null==t.return||t.return()}finally{if(o)throw a}}return l}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return Z(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var w=p.Z.Option,C=0;const N=function(){(0,h.LT)().data;var n,e=S((0,f.useReducer)(g.I6,{data:[],dataLopHoc:[],loading:!1,pageSize:50,pageNumber:1,total:0}),2),t=e[0],Z=e[1],N=(0,f.useRef)(null);(0,f.useEffect)((function(){I(),T()}),[]);var I=function(n,e){Z({loading:!0});var r,a,l=Date.now();C=l,(r={page:n||t.pageNumber,search:e},a="/admin/user/?".concat(k.stringify(r,{skipNull:!0,skipEmptyString:!0})),b.o.get(a)).then((function(n){var e,t,r,a;C===l&&Z({data:(null==n||null===(e=n.data)||void 0===e?void 0:e.data)||[],pageNumber:(null==n||null===(t=n.data)||void 0===t?void 0:t.current_page)||0,pageSize:(null==n||null===(r=n.data)||void 0===r?void 0:r.per_page)||0,total:(null==n||null===(a=n.data)||void 0===a?void 0:a.total)||0,loading:!1})})).finally((function(){return Z({loading:!1})}))},T=(0,f.useCallback)((function(){x.E().then((function(n){Z({dataLopHoc:(null==n?void 0:n.data)||[]})}))}),[]),E=(0,f.useCallback)((function(){Z({loading:!0}),y.w().then((function(n){s.Z.success({message:"Cập nhật thành công"})})).catch((function(n){s.Z.error({message:"Lỗi khi cập nhật"})})).finally((function(){return Z({loading:!1})}))}),[]),H=(0,f.useCallback)((function(n,e){I(n)}),[I]),A=(0,f.useCallback)((function(n){I(null,n.target.value)}),[t,I]),L=(0,f.useMemo)((function(){return[{title:"STT",dataIndex:"id",key:"id",fixed:"left",className:"cell-center",width:100,render:function(n,e,r){return(0,j.jsx)(d.Z,{placement:"top",title:n,children:t.pageSize*(t.pageNumber-1)+r+1})}},{title:"Tên",dataIndex:"chucVu",key:"ten",width:300,render:function(n,e){return(0,j.jsx)(d.Z,{placement:"top",title:null==e?void 0:e.email,children:"".concat(null!=n&&n.ChucDanh?"".concat(null==n?void 0:n.ChucDanh,". "):null!=n&&n.MaSV?"SV. ":"ADMIN. ").concat(null==e?void 0:e.HoDem," ").concat(null==e?void 0:e.Ten).concat(null!=n&&n.MaSV?" - ".concat(n.MaSV):"")})}},{title:"Lớp",dataIndex:"chucVu",key:"Lop",className:"cell-center",width:150,render:function(n,e){var t,r;return null!=n&&n.lopHoc?(0,j.jsx)(c.Z,{color:"cyan",children:null==n||null===(t=n.lopHoc)||void 0===t?void 0:t.TenLopHoc}):null==n||null===(r=n.lopHocs)||void 0===r?void 0:r.map((function(n){return(0,j.jsx)(c.Z,{color:"green",children:null==n?void 0:n.TenLopHoc},e.id+n.id)}))}},{title:"Số điện thoại",dataIndex:"SoDienThoai",key:"SoDienThoai",width:150,className:"cell-center"},{title:"Chức vụ",dataIndex:"roles",key:"roles",className:"cell-center",width:200,render:function(n,e){return null==n?void 0:n.map((function(n){return(0,j.jsx)(c.Z,{color:1==(null==n?void 0:n.id)?"red":2==(null==n?void 0:n.id)?"green":3==(null==n?void 0:n.id)?"blue":"gold",children:null==n?void 0:n.show_name},e.id+n.id)}))}},{title:"",dataIndex:"action",key:"action",className:"cell-center",width:300,render:function(n,e){return(0,j.jsxs)(o.Z,{size:"middle",children:[(0,j.jsx)(u.Z,{type:"primary",onClick:function(){var n;return null==N||null===(n=N.current)||void 0===n?void 0:n.showModal(e)},children:"Chỉnh sửa"}),(0,j.jsx)(u.Z,{danger:!0,disabled:(null==e?void 0:e.chucVu)||(null==e?void 0:e.isRoot),children:"Xóa"})]})}}]}),[t.pageSize,t.pageNumber]);return(0,j.jsxs)(m.Z,{className:"dot-danh-gia-wrapper",children:[(0,j.jsxs)(a.Z,{className:"bg-white p-3 content",children:[(0,j.jsx)(i.Z,{span:24,children:(0,j.jsxs)(a.Z,{gutter:[5,5],children:[(0,j.jsx)(i.Z,{span:6,children:(0,j.jsxs)(p.Z,{style:{width:"100%"},defaultValue:"*",children:[(0,j.jsx)(w,{value:"*",children:"Tất cả"}),null==t||null===(n=t.dataLopHoc)||void 0===n?void 0:n.map((function(n){return(0,j.jsx)(w,{value:null==n?void 0:n.id,children:null==n?void 0:n.TenLopHoc},null==n?void 0:n.id)}))]})}),(0,j.jsx)(i.Z,{children:(0,j.jsx)(u.Z,{type:"primary",onClick:E,children:"Cập nhật"})}),(0,j.jsx)(i.Z,{children:(0,j.jsx)(l.Z,{onChange:(0,g.qC)(A,300)})})]})}),(0,j.jsx)(i.Z,{span:24,className:"mt-3",children:(0,j.jsx)(r.Z,{bordered:!0,loading:t.loading,columns:L,scroll:{x:700,y:"calc(100vh - 290px)"},dataSource:t.data,rowKey:function(n){return null==n?void 0:n.id},pagination:{current:t.pageNumber,total:t.total,pageSize:t.pageSize,onChange:H}})})]}),(0,j.jsx)(v.default,{ref:N})]})}},77684:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(23645),a=t.n(r)()((function(n){return n[1]}));a.push([n.id,".dimark-wrapper{padding:10px 10px 0}.dimark-wrapper .ant-table-thead tr th{background:#2a3f54;color:#fff}.dimark-wrapper .ant-pagination{margin-bottom:0}",""]);const l=a},10050:(n,e,t)=>{t.d(e,{Z:()=>l});var r=t(23645),a=t.n(r)()((function(n){return n[1]}));a.push([n.id,"",""]);const l=a},14734:(n,e,t)=>{t.r(e),t.d(e,{default:()=>o});var r=t(93379),a=t.n(r),l=t(10050),i={insert:"head",singleton:!1};a()(l.Z,i);const o=l.Z.locals||{}}}]);