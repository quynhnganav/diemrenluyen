"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[42],{667:(n,e,i)=>{i.d(e,{Wz:()=>a,Wp:()=>l,t5:()=>c,cV:()=>o,Sk:()=>d});var t=i(7461),r=i(7563),a=function(n){var e="/sv/danh-gia/api?".concat(r.stringify(n,{skipNull:!0,skipEmptyString:!0}));return t.o.get(e)},l=function(n){return t.o.post("/sv/danh-gia",n)},c=function(n){var e="/sv/cbl/danh-gia/api?".concat(r.stringify(n,{skipNull:!0,skipEmptyString:!0}));return t.o.get(e)},o=function(n,e){var i="/sv/cbl/danh-gia/api/sinh-vien/".concat(n,"?").concat(r.stringify(e,{skipNull:!0,skipEmptyString:!0}));return t.o.get(i)},d=function(n,e){var i="/sv/cbl/danh-gia/api/sinh-vien/".concat(n);return t.o.post(i,e)}},4252:(n,e,i)=>{i.d(e,{Z:()=>o});i(7294);var t=i(3379),r=i.n(t),a=i(7684),l={insert:"head",singleton:!1};r()(a.Z,l);a.Z.locals;var c=i(5893);const o=function(n){var e=n.children,i=n.className;return(0,c.jsx)("div",{className:"dimark-wrapper ".concat(i||""),children:e})}},7461:(n,e,i)=>{i.d(e,{o:()=>r});var t=i(9669),r=i.n(t)().create({baseURL:"/",responseType:"json"})},8042:(n,e,i)=>{i.r(e),i.d(e,{default:()=>k});var t=i(6226),r=i(1230),a=i(5746),l=i(9650),c=i(1577),o=i(7066),d=i(8648),u=i(7294),s=i(4252),h={emptyText:"Không có dữ liệu"},p=i(6659),v=i(667),f=i(5977),g=i(807),y=i(5893);function m(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var i=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==i)return;var t,r,a=[],l=!0,c=!1;try{for(i=i.call(n);!(l=(t=i.next()).done)&&(a.push(t.value),!e||a.length!==e);l=!0);}catch(n){c=!0,r=n}finally{try{l||null==i.return||i.return()}finally{if(c)throw r}}return a}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return x(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);"Object"===i&&n.constructor&&(i=n.constructor.name);if("Map"===i||"Set"===i)return Array.from(n);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return x(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(n,e){(null==e||e>n.length)&&(e=n.length);for(var i=0,t=new Array(e);i<e;i++)t[i]=n[i];return t}const k=function(){var n,e=m((0,u.useReducer)(p.I6,{sinhViens:[],loading:!1}),2),i=e[0],x=e[1],k=(0,f.k6)(),S=(0,g.YS)().setIdsSv;(0,u.useRef)(null);(0,u.useEffect)((function(){b()}),[]);var b=(0,u.useCallback)((function(){x({loading:!0}),v.t5().then((function(n){var e;x({sinhViens:null==n?void 0:n.data}),S(null==n||null===(e=n.data)||void 0===e?void 0:e.map((function(n){return{id:null==n?void 0:n.id,MaSV:null==n?void 0:n.MaSV,user:null==n?void 0:n.user}})))})).catch((function(n){var e,i;d.Z.warning({message:(null==n||null===(e=n.response)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.message)||"Lỗi khi tải dữ liệu"})})).finally((function(){return x({loading:!1})}))}),[]),j=(0,u.useMemo)((function(){return[{title:"Mã SV",dataIndex:"MaSV",className:"cell-center",width:100,key:"MaSV"},{title:"Họ tên SV",dataIndex:"user",key:"HoTenSinhVien",render:function(n){return(0,y.jsx)(o.Z,{placement:"top",title:null==n?void 0:n.email,children:"".concat(null==n?void 0:n.HoDem," ").concat(null==n?void 0:n.Ten)})}},{title:"Đã đánh giá",dataIndex:"danhGia",className:"cell-center",width:150,key:"isDanhGia",render:function(n){return null!=n&&n.SinhVienDanhGia?"Đã đánh giá = ".concat(null==n?void 0:n.TongSoDiemSinhVien):"Chưa đánh giá - 0"}},{title:"Số điểm - Xếp loại",dataIndex:"danhGia",className:"cell-center",width:150,key:"point",render:function(n){return null==n?void 0:n.TongSoDiem}},{title:"CBL đánh giá",dataIndex:"danhGia",className:"cell-center",width:150,key:"cbl",render:function(n){return null!=n&&n.CanBoLopDanhGia?"Đã đánh giá":"Chưa đánh giá"}},{title:"CVHT duyệt",dataIndex:"danhGia",className:"cell-center",width:150,key:"cvht",render:function(n){return null!=n&&n.GiangVienDuyet?"Đã duyệt":"Chưa duyệt"}},{title:"Ghi chú",dataIndex:"TrangThai",className:"cell-center",width:150,key:"ghichu`",render:function(n,e){return"".concat("0"!=n&&n||""," ").concat("0"!=(null==e?void 0:e.GhiChu)&&(null==e?void 0:e.GhiChu)||"")}},{title:"",dataIndex:"id",key:"id",render:function(n,e,t){return(0,y.jsxs)(l.Z,{size:"middle",children:[(0,y.jsx)(c.Z,{type:"primary",onClick:function(){var r,a;return k.push("/sv/cbl/danh-gia/".concat(n,"?prev=").concat(null===(r=i.sinhViens[t-1])||void 0===r?void 0:r.id,"&next=").concat(null===(a=i.sinhViens[t+1])||void 0===a?void 0:a.id,"&masv=").concat(null==e?void 0:e.MaSV))},children:"Đánh giá"}),(0,y.jsx)(c.Z,{type:"primary",children:"Ghi chú"})]})}}]}),[i.sinhViens]);return(0,y.jsx)(s.Z,{className:"danh-gia-page",children:(0,y.jsxs)(r.Z,{className:"bg-white p-3 content",children:[(0,y.jsx)(a.Z,{span:24,children:(0,y.jsxs)(r.Z,{justify:"space-between",gutter:[5,5],children:[(0,y.jsxs)(a.Z,{children:["Số lượng sinh viên: ",null==i||null===(n=i.sinhViens)||void 0===n?void 0:n.length]}),(0,y.jsx)(a.Z,{children:(0,y.jsxs)(r.Z,{gutter:[5,5],children:[(0,y.jsx)(a.Z,{children:(0,y.jsx)(c.Z,{type:"primary",onClick:function(){return window.print()},children:"In bản thống kê"})}),(0,y.jsx)(a.Z,{children:(0,y.jsx)(c.Z,{type:"primary",children:"Xem thống kê"})}),(0,y.jsx)(a.Z,{children:(0,y.jsx)(c.Z,{type:"primary",children:"Nhắc nhở"})})]})})]})}),(0,y.jsx)(a.Z,{span:24,className:"mt-3",children:(0,y.jsx)(t.Z,{bordered:!0,loading:i.loading,columns:j,scroll:{x:700,y:"calc(100vh - 250px)"},dataSource:null==i?void 0:i.sinhViens,rowKey:function(n){return null==n?void 0:n.id},pagination:!1,locale:h,rowSelection:{type:"checkbox"}})})]})})}},7684:(n,e,i)=>{i.d(e,{Z:()=>a});var t=i(3645),r=i.n(t)()((function(n){return n[1]}));r.push([n.id,".dimark-wrapper{padding:10px 10px 0}.dimark-wrapper .ant-table-thead tr th{background:#2a3f54;color:#fff}.dimark-wrapper .ant-pagination{margin-bottom:0}",""]);const a=r}}]);