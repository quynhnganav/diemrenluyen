"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[42],{667:(n,e,t)=>{t.d(e,{Wz:()=>a,Wp:()=>l,t5:()=>c,cV:()=>o,Sk:()=>d});var i=t(7461),r=t(7563),a=function(n){var e="/sv/danh-gia/api?".concat(r.stringify(n,{skipNull:!0,skipEmptyString:!0}));return i.o.get(e)},l=function(n){return i.o.post("/sv/danh-gia",n)},c=function(n){var e="/sv/cbl/danh-gia/api?".concat(r.stringify(n,{skipNull:!0,skipEmptyString:!0}));return i.o.get(e)},o=function(n,e){var t="/sv/cbl/danh-gia/api/sinh-vien/".concat(n,"?").concat(r.stringify(e,{skipNull:!0,skipEmptyString:!0}));return i.o.get(t)},d=function(n,e){var t="/sv/cbl/danh-gia/api/sinh-vien/".concat(n);return i.o.post(t,e)}},4252:(n,e,t)=>{t.d(e,{Z:()=>o});t(7294);var i=t(3379),r=t.n(i),a=t(7684),l={insert:"head",singleton:!1};r()(a.Z,l);a.Z.locals;var c=t(5893);const o=function(n){var e=n.children,t=n.className;return(0,c.jsx)("div",{className:"dimark-wrapper ".concat(t||""),children:e})}},7461:(n,e,t)=>{t.d(e,{o:()=>a});var i=t(9669),r=t.n(i),a=(document.head.querySelector('meta[name="csrf-token"]'),r().create({baseURL:"/",responseType:"json"}))},8042:(n,e,t)=>{t.r(e),t.d(e,{default:()=>k});var i=t(4112),r=t(1230),a=t(5746),l=t(9650),c=t(1577),o=t(7066),d=t(8648),u=t(7294),s=t(4252),h={emptyText:"Không có dữ liệu"},p=t(6659),v=t(667),f=t(5977),g=t(807),m=t(5893);function y(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==t)return;var i,r,a=[],l=!0,c=!1;try{for(t=t.call(n);!(l=(i=t.next()).done)&&(a.push(i.value),!e||a.length!==e);l=!0);}catch(n){c=!0,r=n}finally{try{l||null==t.return||t.return()}finally{if(c)throw r}}return a}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return x(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}const k=function(){var n,e=y((0,u.useReducer)(p.I6,{sinhViens:[],loading:!1}),2),t=e[0],x=e[1],k=(0,f.k6)(),S=(0,g.YS)().setIdsSv;(0,u.useRef)(null);(0,u.useEffect)((function(){b()}),[]);var b=(0,u.useCallback)((function(){x({loading:!0}),v.t5().then((function(n){var e;x({sinhViens:null==n?void 0:n.data}),S(null==n||null===(e=n.data)||void 0===e?void 0:e.map((function(n){return{id:null==n?void 0:n.id,MaSV:null==n?void 0:n.MaSV,user:null==n?void 0:n.user}})))})).catch((function(n){var e,t;d.Z.warning({message:(null==n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Lỗi khi tải dữ liệu"})})).finally((function(){return x({loading:!1})}))}),[]),j=(0,u.useMemo)((function(){return[{title:"Mã SV",dataIndex:"MaSV",className:"cell-center",width:100,key:"MaSV"},{title:"Họ tên SV",dataIndex:"user",width:200,key:"HoTenSinhVien",render:function(n){return(0,m.jsx)(o.Z,{placement:"top",title:null==n?void 0:n.email,children:"".concat(null==n?void 0:n.HoDem," ").concat(null==n?void 0:n.Ten)})}},{title:"Đã đánh giá",dataIndex:"danhGia",className:"cell-center",width:150,key:"isDanhGia",render:function(n){return null!=n&&n.SinhVienDanhGia?"Đã đánh giá = ".concat(null==n?void 0:n.TongSoDiemSinhVien):"Chưa đánh giá - 0"}},{title:"Số điểm - Xếp loại",dataIndex:"danhGia",className:"cell-center",width:150,key:"point",render:function(n){return null==n?void 0:n.TongSoDiem}},{title:"CBL đánh giá",dataIndex:"danhGia",className:"cell-center",width:150,key:"cbl",render:function(n){return null!=n&&n.CanBoLopDanhGia?"Đã đánh giá":"Chưa đánh giá"}},{title:"CVHT duyệt",dataIndex:"danhGia",className:"cell-center",width:150,key:"cvht",render:function(n){return null!=n&&n.GiangVienDuyet?"Đã duyệt":"Chưa duyệt"}},{title:"Ghi chú",dataIndex:"TrangThai",className:"cell-center",width:150,key:"ghichu`",render:function(n,e){return"".concat("0"!=n&&n||""," ").concat("0"!=(null==e?void 0:e.GhiChu)&&(null==e?void 0:e.GhiChu)||"")}},{title:"",dataIndex:"id",key:"id",className:"cell-center",render:function(n,e,i){return(0,m.jsxs)(l.Z,{size:"middle",children:[(0,m.jsx)(c.Z,{type:"primary",onClick:function(){var r,a;return k.push("/sv/cbl/danh-gia/".concat(n,"?prev=").concat(null===(r=t.sinhViens[i-1])||void 0===r?void 0:r.id,"&next=").concat(null===(a=t.sinhViens[i+1])||void 0===a?void 0:a.id,"&masv=").concat(null==e?void 0:e.MaSV))},children:"Đánh giá"}),(0,m.jsx)(c.Z,{type:"primary",children:"Ghi chú"})]})}}]}),[t.sinhViens]);return(0,m.jsx)(s.Z,{className:"danh-gia-page",children:(0,m.jsxs)(r.Z,{className:"bg-white p-3 content",children:[(0,m.jsx)(a.Z,{span:24,children:(0,m.jsxs)(r.Z,{justify:"space-between",gutter:[5,5],children:[(0,m.jsxs)(a.Z,{children:["Số lượng sinh viên: ",null==t||null===(n=t.sinhViens)||void 0===n?void 0:n.length]}),(0,m.jsx)(a.Z,{children:(0,m.jsxs)(r.Z,{gutter:[5,5],children:[(0,m.jsx)(a.Z,{children:(0,m.jsx)(c.Z,{type:"primary",onClick:function(){return window.print()},children:"In bản thống kê"})}),(0,m.jsx)(a.Z,{children:(0,m.jsx)(c.Z,{type:"primary",children:"Xem thống kê"})}),(0,m.jsx)(a.Z,{children:(0,m.jsx)(c.Z,{type:"primary",children:"Nhắc nhở"})})]})})]})}),(0,m.jsx)(a.Z,{span:24,className:"mt-3",children:(0,m.jsx)(i.Z,{bordered:!0,loading:t.loading,columns:j,scroll:{x:700,y:"calc(100vh - 250px)"},dataSource:null==t?void 0:t.sinhViens,rowKey:function(n){return null==n?void 0:n.id},pagination:!1,locale:h,rowSelection:{type:"checkbox"}})})]})})}},7684:(n,e,t)=>{t.d(e,{Z:()=>a});var i=t(3645),r=t.n(i)()((function(n){return n[1]}));r.push([n.id,".dimark-wrapper{padding:10px 10px 0}.dimark-wrapper .ant-table-thead tr th{background:#2a3f54;color:#fff}.dimark-wrapper .ant-pagination{margin-bottom:0}",""]);const a=r}}]);